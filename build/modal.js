define(["./libs/underscore/underscore-min","./libs/element-kit/element-kit.min"],function(){"use strict";var e=function(e){this.initialize(e)};return e.prototype={initialize:function(e){this.options=_.extend({containerEl:document.getElementsByTagName("body")[0],el:null,onHide:null,onShow:null,onClickOutside:this.hide.bind(this),activeClass:"modal-active",containerActiveClass:"modal-container-active"},e),this.container=this.options.containerEl,this.content=this.options.el},setup:function(){this.container.contains(this.content)||this.container.appendChild(this.content)},show:function(){this.setup(),this.content.kit.classList.add(this.options.activeClass),document.addEventListener("click",this._onDocClick.bind(this),!0),this.container.kit.classList.add(this.options.containerActiveClass),this.options.onShow&&this.options.onShow()},hide:function(){this.content.kit.classList.remove(this.options.activeClass),document.removeEventListener("click",this._onDocClick.bind(this),!0),this.container.getElementsByClassName(this.options.activeClass).length||this.container.kit.classList.remove(this.options.containerActiveClass),this.options.onHide&&this.options.onHide()},isActive:function(){return this.content.classList.contains(this.options.activeClass)},_onDocClick:function(e){var t=e.target,n=!this.content.contains(t);n&&this.isActive()&&this.options.onClickOutside&&this.options.onClickOutside()},destroy:function(){this.content.kit.classList.remove(this.options.activeClass),this.container.contains(this.content)&&this.container.removeChild(this.content),this.container.getElementsByClassName(this.options.activeClass).length||this.container.kit.classList.remove(this.options.containerActiveClass),document.removeEventListener("click",this._onDocClick.bind(this),!0)}},e});