/** 
* Rogue - v2.2.0.
* git://github.com/mkay581/rogue.git
* Copyright 2014. Licensed MIT.
*/
define([],function(){"use strict";var e=function(){};return e.prototype={setValue:function(e,t,n,r){r=r||this._getCallback(arguments),this._delegateMethod(localStorage,"setItem",e,t,r),n&&this._setupFlushTime(e,n)},getValue:function(e,t){return this._delegateMethod(localStorage,"getItem",e,null,t)},flushValue:function(e,t){this._delegateMethod(localStorage,"removeItem",e,null,t)},setSessionValue:function(e,t,n){this._delegateMethod(sessionStorage,"setItem",e,t,n)},getSessionValue:function(e,t){return this._delegateMethod(sessionStorage,"getItem",e,null,t)},flushSessionValue:function(e,t){this._delegateMethod(sessionStorage,"removeItem",e,null,t)},_setupFlushTime:function(e,t){this.timers=this.timers||{},this.timers[e]=setTimeout(function(){this.flushValue.call(this,e,function(){clearTimeout(this.timers[e])}.bind(this))}.bind(this),t)},_getCallback:function(e){return typeof arguments[arguments.length-1]=="function"?arguments[arguments.length-1]:null},_delegateMethod:function(e,t,n,r,i){return t==="getItem"||t==="getItem"?r=e[t](n):r?e[t](n,r):e[t](n),i&&i(r),r},_constructErrorMessage:function(e){return"CacheManager error: "+e},cacheData:function(e,t){this.setValue(e,t)},getCacheData:function(e){return this.getValue(e)},flushData:function(e){this.flushValue(e)}},new e});