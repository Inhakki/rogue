define(["require","underscore"],function(e){"use strict";var t=e("underscore"),n=function(e){this.initialize(e)};return n.prototype={initialize:function(e){this.options=t.extend({containerEl:document.getElementsByTagName("body")[0],el:null,onHide:null,onShow:null,onClickOutside:this.hide.bind(this),activeClass:"modal-active"},e),this.container=this.options.containerEl,this.content=this.options.el},setup:function(){this.container.contains(this.content)||this.container.appendChild(this.content)},show:function(){this.setup(),this.container.classList.add(this.options.activeClass),document.addEventListener("click",this._onDocClick.bind(this),!0),this.options.onShow&&this.options.onShow()},hide:function(){this.container.classList.remove(this.options.activeClass),document.removeEventListener("click",this._onDocClick.bind(this),!0),this.options.onHide&&this.options.onHide()},isActive:function(){return this.container.classList.contains(this.options.activeClass)},_onDocClick:function(e){var t=e.target,n=!this.content.contains(t);n&&this.isActive()&&this.options.onClickOutside&&this.options.onClickOutside()},destroy:function(){this.container.classList.remove(this.options.activeClass),this.container.contains(this.content)&&this.container.removeChild(this.content),document.removeEventListener("click",this._onDocClick.bind(this),!0)}},n});