define(["underscore","element-kit"],function(){"use strict";var e=function(e){this.initialize(e)};return e.prototype={initialize:function(e){this.options=_.extend({el:null,showEvent:null,hideEvent:null,onShow:null,onHide:null,cssPrefix:"ui-tooltip"},e),this.prefix=this.options.cssPrefix,this.activeClass=this.prefix+"-active",this.el=this.options.el,this.trigger=this.el.getElementsByClassName(this.prefix+"-trigger")[0],this.setup()},setup:function(){var e=this.options;e.showEvent&&(this.eventMap=this._setupEvents(e.showEvent,e.hideEvent))},_setupEvents:function(e,t){var n=this._buildEventMap(e,t),r,i;for(r in n)n.hasOwnProperty(r)&&(i=n[r],this.trigger.addEventListener(i.name,i.event));return n},_onDuplicateEvent:function(){this.isActive()?this.hide():this.show()},_buildEventMap:function(e,t){var n={};return e===t?(n.showEvent={name:e,event:this._onDuplicateEvent.bind(this)},n):(e&&(n.showEvent={name:e,event:this.show.bind(this)}),t&&(n.hideEvent={name:t,event:this.hide.bind(this)}),n)},show:function(){this.el.kit.classList.add(this.activeClass),this.options.onShow&&this.options.onShow()},hide:function(){this.el.kit.classList.remove(this.activeClass),this.options.onHide&&this.options.onHide()},isActive:function(){return this.el.kit.classList.contains(this.activeClass)},destroy:function(){var e=this.eventMap,t,n;if(e)for(t in e)e.hasOwnProperty(t)&&(n=e[t],this.trigger.removeEventListener(n.name,n.event))}},e});