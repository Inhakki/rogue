define([],function(){var e=function(){this.initialize()};return e.prototype={initialize:function(){this._setupBindPolyfill()},addClass:function(e,t){if(!this.hasClass(e,t)){var n=e.className;n&&(e.className=n+" "),e.className=e.className+t}},removeClass:function(e,t){var n;this.hasClass(e,t)&&(e.className===t?e.className="":(n="[\\s]*"+t,n=new RegExp(n,"i"),e.className=e.className.replace(n,"")))},hasClass:function(e,t){var n=e.className.split(" ");return n.indexOf(t)!==-1},createHtmlElement:function(e){var t,n;if(e)return e=this.trim(e),t=document.createElement("div"),t.innerHTML=e,n=t.childNodes[0],t.removeChild(n)},wrapHtmlElement:function(e,t){var n=e.parentNode,r=this.createHtmlElement(t);return n.replaceChild(r,e),r.appendChild(e),r},trim:function(e){return String.prototype.trim?e=e.trim():String.prototype.trim=function(){return e.replace(/^\s+|\s+$/g,"")},e},getElementAttrMap:function(e){var t=e.attributes,n={};if(t.length)for(var r=0;r<t.length;r++)n[t[r].name]=t[r].value;return n},getNested:function(e,t,n){var r=t.split("."),i=e;for(var s=0;s<r.length;s++)i[r[s]]?i=i[r[s]]:i=n;return i},getElementsByClassName:function(e,t){var n=t||document;return this.isIE8()?n.querySelectorAll("."+e):n.getElementsByClassName(e)},getClosestAncestorElementByClassName:function(e,t){var n,r=t.parentNode;while(r&&typeof r.className=="string"){if(this.hasClass(r,e)){n=r;break}r=r.parentNode}return n},addEventListener:function(e,t,n,r){var i=function(e){n(e)};this.getIEVersion()===8?e.attachEvent("on"+t,i.bind(this)):e.addEventListener(t,i,r),this.events=this.events||{},this.events["e"+e+t+n]=i},hasEventListener:function(e,t,n){return this.events["e"+e+t+n]?!0:!1},removeEventListener:function(e,t,n,r){var i="e"+e+t+n,s;this.events&&(s=this.events[i],this.isIE8()?e.detachEvent(t,s):e.removeEventListener(t,s,r),this.events[i]=null)},extend:function(e){var t=e,n,r;for(r=1;r<arguments.length;r++){n=arguments[r];for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t},convertCssTimeValueToMilliseconds:function(e){var t=this.convertCssUnitToNumber(e),n=e.replace(t,"");return n==="s"?e=t*1e3:e=t,e},convertCssUnitToNumber:function(e){return Number(e.replace(/[a-z]+/,""))},getCssComputedProperty:function(e,t){var n=window.getComputedStyle(e);return n.getPropertyValue(t)||e.style[this.getJsPropName(t)]},getCssProperty:function(e,t){return this.getCssComputedProperty(e,t)},getJsPropName:function(e){return e=e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),e},isIE8:function(){return this.getIEVersion()===8},getIEVersion:function(){if(navigator.appName!="Microsoft Internet Explorer")return!1;var e=navigator.userAgent,t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(t.exec(e)!=null)return parseInt(RegExp.$1)},_setupBindPolyfill:function(){Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i})}},new e});