/** 
* rogue - v2.6.1.
* git://github.com/mkay581/rogue.git
* Copyright 2015 Mark Kennedy. Licensed MIT.
*/
"use strict";var utils=require("utils"),ElementKit=require("element-kit"),Modal=function(a){this.initialize(a)};Modal.prototype={initialize:function(a){this.options=utils.extend({containerEl:document.getElementsByTagName("body")[0],el:null,onHide:null,onShow:null,onClickOutside:this.hide.bind(this),activeClass:"modal-active",containerActiveClass:"modal-container-active"},a),this.container=this.options.containerEl,this.content=this.options.el},setup:function(){this.container.contains(this.content)||this.container.appendChild(this.content)},show:function(){this.setup(),this.content.kit.classList.add(this.options.activeClass),document.addEventListener("click",this._onDocClick.bind(this),!0),this.container.kit.classList.add(this.options.containerActiveClass),this.options.onShow&&this.options.onShow()},hide:function(){this.content.kit.classList.remove(this.options.activeClass),document.removeEventListener("click",this._onDocClick.bind(this),!0),this.container.getElementsByClassName(this.options.activeClass).length||this.container.kit.classList.remove(this.options.containerActiveClass),this.options.onHide&&this.options.onHide()},isActive:function(){return this.content.classList.contains(this.options.activeClass)},_onDocClick:function(a){var b=a.target,c=!this.content.contains(b);c&&this.isActive()&&this.options.onClickOutside&&this.options.onClickOutside()},destroy:function(){this.content.kit.classList.remove(this.options.activeClass),this.container.contains(this.content)&&this.container.removeChild(this.content),this.container.getElementsByClassName(this.options.activeClass).length||this.container.kit.classList.remove(this.options.containerActiveClass),document.removeEventListener("click",this._onDocClick.bind(this),!0)}},module.exports=Modal;